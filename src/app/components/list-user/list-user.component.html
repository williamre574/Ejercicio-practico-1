<div class="container">
  <div class="columns">
    <div class="col-md-12">
      <h1 class="text-center mt-5 custom-header">Lista de usuarios</h1>
    </div>
    <div class="text-center col-md-4" *ngIf="visible == false">
      <button class="btn btn-primary" (click)="combinedDate()">
        Mostrar lista
      </button>
    </div>
  </div>
</div>

<div class="row justify-content-center mt-5 bg-light ">
  <div class="col-md-5 ml-4" *ngIf="visible == true">
    <h3>Lista de usuarios suscritos</h3>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef>Nombre usuario</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <div class="col-md-5 mr-4" *ngIf="visible == true">
    <h3>Fechas recientes</h3>
    <cdk-accordion class="example-accordion">
      <cdk-accordion-item
        *ngFor="let item of items; let index = index"
        #accordionItem="cdkAccordionItem"
        class="example-accordion-item"
        role="button"
        tabindex="0"
        [attr.id]="'accordion-header-' + index"
        [attr.aria-expanded]="accordionItem.expanded"
        [attr.aria-controls]="'accordion-body-' + index"
      >
        <div
          class="example-accordion-item-header"
          (click)="accordionItem.toggle()"
        >
          {{ item.due_on | json }}
          <span class="example-accordion-item-description">
            Click to {{ accordionItem.expanded ? "close" : "open" }}
          </span>
        </div>
        <div
          class="example-accordion-item-body"
          role="region"
          [style.display]="accordionItem.expanded ? '' : 'none'"
          [attr.id]="'accordion-body-' + index"
          [attr.aria-labelledby]="'accordion-header-' + index"
        >
          {{ item.body | json }}
        </div>
      </cdk-accordion-item>
    </cdk-accordion>
  </div>
</div>


